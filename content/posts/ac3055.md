---
emoji: ğŸ§¢
title: 'íƒˆì¶œ'
date: '2021-05-02T19:21:37.121Z'
categories: ì•Œê³ ë¦¬ì¦˜
author: Jard
description: 'ë°±ì¤€ 3055ë²ˆ ê·¸ë˜í”„ íƒìƒ‰ ë¬¸ì œ'
---

[![ë°±ì¤€](https://d2gd6pc034wcta.cloudfront.net/images/logo@2x.png)](https://www.acmicpc.net/problem/3055)

<div style="text-align:center"><a href="https://www.acmicpc.net/problem/3055">https://www.acmicpc.net/problem/3055</a></div>

---

- ë¬¼ì›…ë©ì´ê°€ 'ì‹œê°„ë§ˆë‹¤' ë²ˆì§€ê³  ê³ ìŠ´ë„ì¹˜ê°€ 'ì‹œê°„ë§ˆë‹¤' ì›€ì§ì¸ë‹¤.
- BFSë¥¼ ì¨ì„œ í‘¼ë‹¤.
- ì¼ë‹¨ ë¬¼ì´ ë¨¼ì € í¼ì§€ê³ , ê·¸ ë‹¤ìŒ ê³ ìŠ´ë„ì¹˜ê°€ ì›€ì§ì¸ë‹¤.
- ë¬¼ì˜ ìœ„ì¹˜ë¥¼ íì— ë„£ê³  íƒìƒ‰ì„ ì²˜ìŒ í ê¸¸ì´ë§Œí¼ ëŒë ¤ì„œ ìƒˆë¡œ ë„£ì€ ë¬¼ì˜ ìœ„ì¹˜ëŠ” ë‹¤ìŒ íƒ€ì„ì— í•œë‹¤.
- ê±°ë¦¬ë¥¼ ì ì–´ë†“ëŠ” intë°°ì—´ distë¥¼ ë§Œë“¤ì–´ì„œ ê³ ìŠ´ë„ì¹˜ê°€ ì›€ì§ì¼ë•Œë§ˆë‹¤ í˜„ìœ„ì¹˜ì—ì„œ ì´ë™í•  ê³³ì— +1ì„ ë„£ì–´ì¤€ë‹¤.
- ê³ ìŠ´ë„ì¹˜ê°€ ëª©ì ì§€ì— ë„ì°©í•˜ë©´ ê³ ìŠ´ë„ì¹˜ ìœ„ì¹˜ íì— ë„£ì§€ ì•Šì•„ íê°€ ë¹„ê°€ ë˜ì–´ whileë¬¸ì„ ë©ˆì¶˜ë‹¤.

---

```java
import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.InputStreamReader;
import java.io.OutputStreamWriter;
import java.util.LinkedList;
import java.util.Queue;

/**
 * íƒˆì¶œ ë¬¸ì œ í•´ê²°
 * ë¬¼ì´ í¼ì§€ê³  ê³ ìŠ´ë„ì¹˜ê°€ ì´ë™í•˜ëŠ” ì‹œë®¬ë ˆì´ì…˜ ë¬¸ì œ
 * BFSë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¼ì´ ë¨¼ì € í¼ì§€ê³ , ê·¸ ë‹¤ìŒ ê³ ìŠ´ë„ì¹˜ê°€ ì´ë™
 */
class Main {

    public static void main(String[] args) throws java.lang.Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));

        String[] input = br.readLine().split(" ");
        int N = Integer.parseInt(input[0]), M = Integer.parseInt(input[1]); // N: ì„¸ë¡œ, M: ê°€ë¡œ
        char[][] map = new char[N + 1][M + 1];
        int[][] directions = new int[][] { { 0, 1 }, { 0, -1 }, { 1, 0 }, { -1, 0 } }; // ìƒí•˜ì¢Œìš°
        int[][] dist = new int[N + 1][M + 1]; // ê³ ìŠ´ë„ì¹˜ì˜ ì´ë™ ê±°ë¦¬
        int[] dest = new int[2]; // ëª©ì ì§€ ìœ„ì¹˜
        Queue<int[]> waterQ = new LinkedList<int[]>(), sonicQ = new LinkedList<int[]>(); // ë¬¼ í, ê³ ìŠ´ë„ì¹˜ í

        // ë§µ ì…ë ¥ ë° ì´ˆê¸° ìœ„ì¹˜ ì„¤ì •
        for (int i = 0; i < N; i++) {
            char[] temp = br.readLine().toCharArray();
            for (int j = 0; j < M; j++) {
                map[i][j] = temp[j];
                if (temp[j] == '*')
                    waterQ.add(new int[] { i, j }); // ë¬¼ ìœ„ì¹˜
                else if (temp[j] == 'S')
                    sonicQ.add(new int[] { i, j }); // ê³ ìŠ´ë„ì¹˜ ì‹œì‘ ìœ„ì¹˜
                else if (temp[j] == 'D')
                    dest = new int[] { i, j }; // ëª©ì ì§€
            }
        }

        // BFS: ë§¤ ì‹œê°„ë§ˆë‹¤ ë¬¼ì´ ë¨¼ì € í¼ì§€ê³ , ê·¸ ë‹¤ìŒ ê³ ìŠ´ë„ì¹˜ê°€ ì´ë™
        while (!sonicQ.isEmpty()) {
            // ë¬¼ì´ ë¨¼ì € í¼ì§: í˜„ì¬ íì— ìˆëŠ” ë¬¼ë§Œ í¼ì§ (ë‹¤ìŒ ì‹œê°„ì˜ ë¬¼ì€ ì œì™¸)
            int size = waterQ.size();
            while (size-- > 0) {
                int[] pos = waterQ.poll();
                for (int[] dir : directions) {
                    int next_y = pos[0] + dir[0], next_x = pos[1] + dir[1];
                    // ë²”ìœ„ ë‚´ì´ê³ , ë¹ˆ ê³µê°„ì´ê±°ë‚˜ ê³ ìŠ´ë„ì¹˜ ìœ„ì¹˜ë©´ ë¬¼ì´ í¼ì§
                    if (!(next_y < 0 || next_x < 0 || next_y >= N || next_x >= M)
                            && (map[next_y][next_x] == '.' || map[next_y][next_x] == 'S')) {
                        map[next_y][next_x] = '*';
                        waterQ.add(new int[] { next_y, next_x });
                    }
                }
            }

            // ê³ ìŠ´ë„ì¹˜ ì´ë™: í˜„ì¬ íì— ìˆëŠ” ê³ ìŠ´ë„ì¹˜ë§Œ ì´ë™
            size = sonicQ.size();
            while (size-- > 0) {
                int[] pos = sonicQ.poll();
                for (int[] dir : directions) {
                    int next_y = pos[0] + dir[0], next_x = pos[1] + dir[1];
                    // ë²”ìœ„ ë‚´ì´ê³ , ë¬¼ì´ ì•„ë‹ˆê³ , ëŒì´ ì•„ë‹ˆê³ , ì•„ì§ ë°©ë¬¸í•˜ì§€ ì•Šì•˜ìœ¼ë©´ ì´ë™
                    if (!(next_y < 0 || next_x < 0 || next_y >= N || next_x >= M)
                            && (map[next_y][next_x] != '*' && map[next_y][next_x] != 'X')
                            && dist[next_y][next_x] == 0) {
                        dist[next_y][next_x] = dist[pos[0]][pos[1]] + 1; // ê±°ë¦¬ ì¦ê°€
                        sonicQ.add(new int[] { next_y, next_x });
                    }
                }
            }
        }

        int result = dist[dest[0]][dest[1]];
        // ëª©ì ì§€ì— ë„ë‹¬í–ˆìœ¼ë©´ ê±°ë¦¬ ì¶œë ¥, ì•„ë‹ˆë©´ "KAKTUS" ì¶œë ¥
        bw.write(result != 0 ? result + "" : "KAKTUS");
        bw.flush();
    }
}
```
