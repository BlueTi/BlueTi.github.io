---
title: 균형잡힌 세상
date: "2021-04-15T20:30:37.121Z"
template: "post"
draft: false
slug: "ac4949"
category: "알고리즘"
tags:
  - "알고리즘"
  - "백준"
  - "4949"
  - "자료구조"
  - "문자열"
  - "문제풀이"
  - "java"
description: "백준 4949번 문제"
socialImage: "/media/algorithm.png"
---

[![백준](https://d2gd6pc034wcta.cloudfront.net/images/logo@2x.png)](https://www.acmicpc.net/problem/4949)
<div style="text-align:center"><a href="https://www.acmicpc.net/problem/4949">https://www.acmicpc.net/problem/4949</a></div>

---

- 소괄호와 대괄호가 대칭적으로 들어있는가에 대한 문제다.
- 처음 풀이는 스택에 ([을 넣고 )]이 나올때 스택의 마지막 값과 대칭하는지, 스택이 0보다 작은데 )]이 나오는게 아닌지 조건을 줘서 풀었다.

---



```java

import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.OutputStreamWriter;
import java.util.Stack;

public class Main {
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));

        String input = br.readLine();
        Stack<Character> stack = null;
        while (true) {
            boolean flag = true;
            stack = new Stack<Character>();
            for (char c : input.toCharArray()) {
                if ("([".contains(c + "")) {
                    stack.push(c);
                } else if (")]".contains(c + "")) {
                    if (stack.isEmpty()) {
                        flag = false;
                        break;
                    }
                    char last = stack.pop();
                    if ((last == '(' && c == ']') || (last == '[' && c == ')')) {
                        flag = false;
                        break;
                    }
                }
            }
            if (!stack.isEmpty())
                flag = false;
            bw.write(flag ? "yes" : "no");
            input = br.readLine();

            if (input.equals("."))
                break;
            bw.write("\n");
        }
        bw.flush();
    }
}

```


---

- 훨씬 메모리와 속도에서 좋은 풀이가 있길래 따라해봤다.
- 아스키 코드에서 '(' 와 ')'는 1차이가 나고 '[' 와 ']'는 2차이가 난다
- 근데 결과는 별 차이가 안났다.

```java
import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.OutputStreamWriter;

public class Main {
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));

        while (true) {
            String input = br.readLine();
            char[] ar = input.toCharArray();
            if (ar.length == 1 && ar[0] == '.')
                break;
            String stack = "";
            for (char c : ar) {
                if ("()[]".contains(c + "")) {
                    if (stack.length() != 0 && (c - stack.charAt(stack.length() - 1) == 2
                            || c - stack.charAt(stack.length() - 1) == 1)) {
                        stack = stack.substring(0, stack.length() - 1);
                    } else {
                        stack += c;
                    }
                }
            }
            bw.write((stack.length() == 0 ? "yes" : "no") + "\n");
        }
        bw.flush();
    }
}
```
---

- 결국 <a href='https://www.acmicpc.net/source/27698325'>참조한 코드</a>는 char[]를 사용했다.

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.Arrays;

public class Main {

    static char[] bracket = {'[', '(', ')', ']'};

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringBuilder sb = new StringBuilder();

        while(true){
            String origin = br.readLine();
            char[] arr = origin.toCharArray();

            if(arr[0] == '.') break;

            int top = -1;
            char[] stack = new char[100];

            for(char c:arr)
                for(int a=0; a<4; a++)
                    if(c == bracket[a]) {
                        if (top != -1 && (c - stack[top] == 2 || c - stack[top] == 1))
                            --top;
                        else
                            stack[++top] = c;
                    }

            sb.append(top == -1? "yes":"no").append('\n');
        }
        System.out.println(sb);
    }
}

```